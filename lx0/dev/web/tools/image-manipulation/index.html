<!DOCTYPE html>
<html>
    <head>
      <link type="text/css" href="../shared/style/default.less" rel="stylesheet/less" />
      <link type="text/css" href="../shared/script/extern/jqueryui/css/ui-lightness/jquery-ui-1.8.16.custom.css" rel="Stylesheet"/>
      <link type="text/css" href="style.less" rel="stylesheet/less" />
      
      <script type="text/javascript" src="../shared/script/extern/less-1.1.3.min.js"></script>
      <script type="text/javascript" src="../shared/script/extern/jquery-1.6.4.min.js"></script>
      <script type="text/javascript" src="../shared/script/extern/jquery.cookie.js"></script>
      <script type="text/javascript" src="../shared/script/extern/jqueryui/js/jquery-ui-1.8.16.custom.min.js"></script>
      <script type="text/javascript" src="../shared/script/lx.color-0.1.0.js"></script>
    </head>
    <body>
       <div id="body-wrap1">
          <div style="position:relative">
          <canvas class="color-wheel" data-saturation="2" width="512" height="512" style="z-index : -10; position: absolute; left: -128px;"></canvas>          
          </div>
          <h1 style="">Image</h1>

          <p>
            This is the temporary home for the Color Wheel ui-element.  The Color wheel needs to be refined
            into a JQuery plug-in with a more standardized parameter passing mechanism.
          </p>

          <h2>Color Wheel</h2>
          
          <h3>Arc Count and Arc Radius</h3>
          <canvas class="color-wheel" data-step-count="3" data-step-arc="80" width="128" height="128"></canvas>
          <canvas class="color-wheel" data-step-count="3" data-step-arc="10" width="128" height="128"></canvas>
          <canvas class="color-wheel" data-step-count="8" data-step-arc="40" width="128" height="128"></canvas>
          <canvas class="color-wheel" data-step-count="32" data-step-arc="5" width="128" height="128"></canvas>
          <p>
            The number of arc segments drawn in the color wheel can be set to an 0-360 integer value.  The span of
            each individual arc can likewise be set a 0-360 value.  Normally the arc radius should be set such 
            that <code>arcCount * arcRadius <= 360</code>.
          </p>
          
          <h3>Inner Radius</h3>
          <canvas class="color-wheel" data-step-count="360" data-step-arc="2" data-inner=".25" width="128" height="128"></canvas>
          <canvas class="color-wheel" data-step-count="32" data-step-arc="5" data-inner=".8" width="128" height="128"></canvas>
          <canvas class="color-wheel" data-step-count="32" data-step-arc="5" data-inner=".95" width="128" height="128"></canvas>

          <h3>Hue Offset</h3>
          <canvas class="color-wheel" data-step-count="3" data-step-arc="80" data-offset="10" width="128" height="128"></canvas>
          <canvas class="color-wheel" data-step-count="3" data-step-arc="80" data-offset="30" width="128" height="128"></canvas>
          <canvas class="color-wheel" data-step-count="3" data-step-arc="80" data-offset="90" width="128" height="128"></canvas>
          <canvas class="color-wheel" data-step-count="3" data-step-arc="80" data-offset="140" width="128" height="128"></canvas>

       </div>
    </body>
    <script>
    <!--


      $(document).ready(function () {

        function acquire_context_normalized_2d(canvas) {
          var context = canvas.getContext('2d');

          context.save();
          context.scale(canvas.width / 2, canvas.height / 2);
          context.translate(1, 1);
          return context;
        }

        $(".color-wheel").each(function () {
          var elem = this;
          window.setTimeout(function () {
            var ctx = acquire_context_normalized_2d(elem);


            var offset = parseFloat($(elem).attr("data-offset") || 0);
            var count = parseFloat($(elem).attr("data-step-count") || 360);
            var arc = parseFloat($(elem).attr("data-step-arc") || 1);
            var inner = parseFloat($(elem).attr("data-inner") || .6);
            var saturation = parseInt($(elem).attr("data-saturation") || 100);
            var value = parseInt($(elem).attr("data-value") || 100);


            arc *= Math.PI / 180.0;
            var step = 2 * Math.PI / count;

            for (var i = 0; i < Math.PI * 2; i += step) {
              ctx.fillStyle = lx.color.parse('hsv', (i * 180 / Math.PI + offset) % 360, saturation, value).html('rgba');
              ctx.beginPath();
              ctx.moveTo(0, 0);
              ctx.arc(0, 0, 1, i - arc / 1.95, i + arc / 1.95);
              ctx.lineTo(0, 0);
              ctx.fill();
              ctx.closePath();
            }

            ctx.fillStyle = "white";
            ctx.beginPath();
            ctx.arc(0, 0, inner, 0, 2 * Math.PI);
            ctx.fill();
            ctx.closePath();
          }, 1);
        });



      });
    -->
    </script>
</html>
