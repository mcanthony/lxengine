<Document>
  <Script>
    <!--
    function checker(s, t)
    {
      var p = ((s - Math.floor(s)) < .5) ? 1 : 0;
      p += ((t - Math.floor(t)) >= .5) ? 1 : 0;

      if (p == 0 || p == 2)
          return 1;
      else
          return 0; 
    }
    
    function stripe(t)
    {
      return (Math.fract(t) < .5);
    }
    
    function wood (s, t)
    {
      var n = .6 + .4 * Math.noise3d(s, 1.4 * t, .25);
      if (stripe(t * 16 * n))
      {
        var k = .75 + .25 * Math.noise3d(.45 + s + t, 10.62 + t, s);
        if (stripe(t * 32 * k))
          return [0.50, 0.16, .13];
        else
          return [0.37, 0.17, .09];
      }
      else
      {
        var k = .75 + .25 * Math.noise3d(.45 + s + t, 10.62 + t, s);
        if (stripe(t * 32 * k))
          return [0.38, 0.17, .12];
        else
          return [0.34, 0.19, .13];
      } 
    }
    
    function generate (s, t)
    {
      return wood(s, t * 3);
    }
    -->
  </Script>
  <Texture>
    {
      width  : 512,
      height : 512,
      type   : "2d",
      source : [ "function", "generate" ],
    }
  </Texture>
</Document>
