Adapted from "OpenGL 4.0 Shading Language Cookbook"

